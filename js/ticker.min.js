function addElement(e,t,n){let o=t.initial.speed,i=t.initial.type,d=document.createElement("div");d.textContent=e,d.setAttribute("id",n),d.classList.add("animated",i,o),document.body.appendChild(d)}function loadXMLDoc(e,t){let n;(n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){4==n.readyState&&200==n.status&&"function"==typeof t&&t(n.responseText)},e=e.replace(/\.[^\/.]+$/,""),n.open("GET","StreamLabels/"+e+".txt",!0),n.send()}function loadConfig(e,t){let n;(n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){if(4==n.readyState&&200==n.status&&"function"==typeof t){let o=JSON.parse(n.responseText);o=o[e],t(o)}},n.open("GET","/config/animation.json",!0),n.send(null)}function ticker(e,t,n="content"){loadConfig(t,function(t){let o=t,i=document.getElementById(n);document.body.contains(i)?(console.log("element exists"),loadXMLDoc(e,function(e){let t=document.getElementById(n);t.className="";let i=t.innerHTML.trim(),d=e.trim();if((i=i.trim())!=(d=d.trim())){let e=o;t.classList.add("animated",e.destroy.type,e.destroy.speed),t.addEventListener("animationend",function(){t.classList.remove("animated",e.destroy.type,e.destroy.speed),t.innerHTML=d,t.classList.add("animated",e.new.type,e.new.speed)})}})):(console.log("element does not exist yet"),loadXMLDoc(e,function(e){addElement(e,o,n)}))})}
