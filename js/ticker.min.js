function addElement(e,t,n){let i=t.initial.speed,o=t.initial.type,d=document.createElement("div");d.textContent=e,d.setAttribute("id",n),d.classList.add("animated",o,i),document.body.appendChild(d)}function loadTextFile(e,t,n="StreamLabels/"){let i;(i=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){4==i.readyState&&200==i.status&&"function"==typeof t&&t(i.responseText)},e=e.replace(/\.[^\/.]+$/,""),i.open("GET",n+e+".txt",!0),i.send()}function loadConfig(e,t,n="/config/animation.json"){let i;(i=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){if(4==i.readyState&&200==i.status&&"function"==typeof t){let n=JSON.parse(i.responseText);n=n[e],t(n)}},i.open("GET",n,!0),i.send(null)}function ticker(e,t,n="content"){loadConfig(t,function(t){let i=t,o=document.getElementById(n),d=document.body.contains(o);loadTextFile(e,d?function(e){let t=document.getElementById(n);t.className="";let o=t.innerHTML;o=o.trim();let d=e;if(o!=(d=d.trim())){let e=i;t.classList.add("animated",e.destroy.type,e.destroy.speed),t.addEventListener("animationend",function(){t.classList.remove("animated",e.destroy.type,e.destroy.speed),t.innerHTML=d,t.classList.add("animated",e.new.type,e.new.speed)})}}:function(e){addElement(e,i,n)})})}
