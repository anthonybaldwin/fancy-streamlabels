function addElement(e,t,n){console.log("add element");let o=t.initial.speed,i=t.initial.type,d=document.createElement("div");d.textContent=e,d.setAttribute("id",n),d.classList.add("animated",i,o),document.body.appendChild(d)}function loadTextFile(e,t,n="StreamLabels/"){let o;(o=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){4==o.readyState&&200==o.status&&"function"==typeof t&&t(o.responseText)},console.log("Get text file"),e=e.replace(/\.[^\/.]+$/,""),o.open("GET",n+e+".txt",!0),o.send()}function loadConfig(e,t,n="/config/animation.json"){let o;console.log("load config"),(o=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){if(4==o.readyState&&200==o.status&&"function"==typeof t){let n=JSON.parse(o.responseText);n=n[e],t(n)}},o.open("GET",n,!0),o.send(null)}function ticker(e,t,n="content"){console.log("start"),loadConfig(t,function(t){let o=t,i=document.getElementById(n),d=document.body.contains(i);loadTextFile(e,d?function(e){let t=document.getElementById(n);t.className="";let i=t.innerHTML.trim();i=i.trim();let d=e.trim();if(i!=(d=d.trim())){let e=o;t.classList.add("animated",e.destroy.type,e.destroy.speed),t.addEventListener("animationend",function(){t.classList.remove("animated",e.destroy.type,e.destroy.speed),t.innerHTML=d,t.classList.add("animated",e.new.type,e.new.speed)})}}:function(e){addElement(e,o,n)})})}
