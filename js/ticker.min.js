function addElements(e,t,n){console.log("Creating elements");let o=t.initial.speed,i=t.initial.type,a=document.createElement("div");a.classList.add("container"),document.body.appendChild(a);let d=document.createElement("div");d.textContent=e,d.setAttribute("id",n),d.classList.add("content","animated",i,o),a.appendChild(d)}function loadTextFile(e,t,n="StreamLabels/"){let o;console.log("Loading text file"),(o=new XMLHttpRequest).onreadystatechange=function(){4==o.readyState&&200==o.status&&"function"==typeof t&&t(o.responseText)},e=e.replace(/\.[^\/.]+$/,""),o.open("GET",n+e+".txt",!0),o.send(null)}function loadAnimationConfig(e,t,n="/config/animation.json"){let o;console.log("Loading animation config"),(o=new XMLHttpRequest).onreadystatechange=function(){if(4==o.readyState&&200==o.status&&"function"==typeof t){let n=JSON.parse(o.responseText);n=n[e],t(n)}},o.open("GET",n,!0),o.send(null)}function ticker(e,t,n=t+"Content"){loadAnimationConfig(t,function(t){let o=t,i=document.getElementById(n),a=document.body.contains(i);loadTextFile(e,a?function(t){let i=document.getElementById(n);i.classList="content";let a=i.innerHTML.trim().replace(/\n|\r/g,""),d=t.trim().replace(/\n|\r/g,"");if(console.log(a+" | "+d),a!=d){console.log("File: '"+e+"' has changed");let t=o;i.classList.add("animated",t.destroy.type,t.destroy.speed),i.addEventListener("animationend",function(){i.classList.remove("animated",t.destroy.type,t.destroy.speed),i.innerHTML=d,i.classList.add("animated",t.new.type,t.new.speed)})}}:function(e){addElements(e,o,n)})})}
